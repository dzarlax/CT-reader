# üìÅ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ö—Ä–∞–Ω–µ–Ω–∏—é —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ CT Reader

## üéØ –û–±–∑–æ—Ä

–ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ 1000+ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π CT Reader –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –≤–∏–¥–µ, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è:
- ‚úÖ –ó–∞—â–∏—Ç—É –æ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –±–∞—Ç—á–∞
- ‚úÖ –ü–æ–ª–Ω—É—é –∏—Å—Ç–æ—Ä–∏—é –∞–Ω–∞–ª–∏–∑–∞
- ‚úÖ –£–¥–æ–±–Ω—ã–π –ø—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ö—Ä–∞–Ω–µ–Ω–∏—è

### 1. –û—Å–Ω–æ–≤–Ω–∞—è –ø–∞–ø–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```
output/                                # –ì–ª–∞–≤–Ω–∞—è –ø–∞–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
‚îú‚îÄ‚îÄ session_YYYYMMDD_HHMMSS/          # –ü–∞–ø–∫–∏ —Å–µ—Å—Å–∏–π (–¥–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è)
‚îú‚îÄ‚îÄ medgemma_analysis_*.txt            # –ò—Ç–æ–≥–æ–≤—ã–µ –æ—Ç—á—ë—Ç—ã –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º —Ñ–æ—Ä–º–∞—Ç–µ
‚îú‚îÄ‚îÄ medgemma_analysis_*.json           # –î–∞–Ω–Ω—ã–µ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
‚îî‚îÄ‚îÄ ct_analysis_*.log                  # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –ª–æ–≥–∏ (–∏–∑ progress_logger)
```

### 2. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–µ—Å—Å–∏–∏ (–¥–ª—è –±–æ–ª—å—à–∏—Ö –∞–Ω–∞–ª–∏–∑–æ–≤)
```
output/session_20250710_143022/
‚îú‚îÄ‚îÄ session_summary.json               # –°–≤–æ–¥–∫–∞ —Å–µ—Å—Å–∏–∏
‚îú‚îÄ‚îÄ progress.json                      # –¢–µ–∫—É—â–∏–π –ø—Ä–æ–≥—Ä–µ—Å—Å
‚îú‚îÄ‚îÄ analyses_batch_001.txt             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–∞—Ç—á–∞ 1 (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 1-5)
‚îú‚îÄ‚îÄ analyses_batch_002.txt             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–∞—Ç—á–∞ 2 (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 6-10)
‚îú‚îÄ‚îÄ analyses_batch_003.txt             # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –±–∞—Ç—á–∞ 3 (–∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 11-15)
‚îú‚îÄ‚îÄ ...
‚îî‚îÄ‚îÄ error_state.json                   # –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏ (–µ—Å–ª–∏ –ø—Ä–æ–∏–∑–æ—à–ª–∞)
```

## üìä –¢–∏–ø—ã —Ñ–∞–π–ª–æ–≤

### üóÇÔ∏è session_summary.json
–°–æ–¥–µ—Ä–∂–∏—Ç –æ–±—â—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Å–µ—Å—Å–∏–∏:
```json
{
  "session_id": "20250710_143022",
  "start_time": "20250710_143022",
  "end_time": "2025-07-10T16:45:33",
  "total_images": 1797,
  "processed_images": 1797,
  "success_rate": 100.0,
  "analyzer": "MedGemma 4B",
  "batch_size": 5,
  "status": "completed"
}
```

### üìà progress.json
–û—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∞–ª–∏–∑–∞:
```json
{
  "timestamp": "2025-07-10T15:30:22",
  "batch_num": 150,
  "total_batches": 360,
  "images_processed": 750,
  "user_context": "–ê–Ω–∞–ª–∏–∑ –ö–¢ —Å–æ–±–∞–∫–∏",
  "status": "in_progress"
}
```

### üìÑ analyses_batch_XXX.txt
–°–æ–¥–µ—Ä–∂–∏—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–∞–ª–∏–∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –±–∞—Ç—á–∞:
```
=== –ü–†–û–ú–ï–ñ–£–¢–û–ß–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ (–ë–∞—Ç—á 1/360) ===

–û–±—Ä–∞–±–æ—Ç–∞–Ω–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 5
–í—Ä–µ–º—è: 2025-07-10 14:30:22

=== –ê–ù–ê–õ–ò–ó –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø 1 ===
[–î–µ—Ç–∞–ª—å–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è]

=== –ê–ù–ê–õ–ò–ó –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø 2 ===
[–î–µ—Ç–∞–ª—å–Ω—ã–π –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è]

...
```

### üìã medgemma_analysis_*.txt
–ò—Ç–æ–≥–æ–≤—ã–π –æ—Ç—á—ë—Ç –≤—Å–µ–≥–æ –∞–Ω–∞–ª–∏–∑–∞:
```
=== –ü–û–õ–ù–´–ô MEDGEMMA –ê–ù–ê–õ–ò–ó CT –ò–°–°–õ–ï–î–û–í–ê–ù–ò–Ø ===

–î–ê–¢–ê –ê–ù–ê–õ–ò–ó–ê: 2025-07-10 16:45:33
–û–ë–©–ê–Ø –ò–ù–§–û–†–ú–ê–¶–ò–Ø:
- –í—Å–µ–≥–æ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 1797 –∏–∑ 1797
- –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: –ê–Ω–∞–ª–∏–∑ –ö–¢ —Å–æ–±–∞–∫–∏
- –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä: MedGemma 4B (Google)

=== –î–ï–¢–ê–õ–¨–ù–´–ô –ê–ù–ê–õ–ò–ó –ü–û –ò–ó–û–ë–†–ê–ñ–ï–ù–ò–Ø–ú ===
[–í—Å–µ –∞–Ω–∞–ª–∏–∑—ã –≤—Å–µ—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π]

=== –û–ë–©–ò–ï –í–´–í–û–î–´ ===
[–û–±—â–∏–µ –≤—ã–≤–æ–¥—ã –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏]
```

### üìä medgemma_analysis_*.json
–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞:
```json
{
  "timestamp": "2025-07-10 16:45:33",
  "total_images": 1797,
  "analyzer": "MedGemma 4B",
  "report": "[–ü–æ–ª–Ω—ã–π —Ç–µ–∫—Å—Ç –æ—Ç—á—ë—Ç–∞]",
  "metadata": {
    "processed_images": 1797,
    "batch_size": 5,
    "model_name": "google/medgemma-4b-v1.0",
    "device": "cuda"
  }
}
```

## üîß –£—Ç–∏–ª–∏—Ç—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### üìñ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
python view_results.py
```

**–í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ —É—Ç–∏–ª–∏—Ç—ã:**
- üìä –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Å–µ—Å—Å–∏–π –∏ —Ñ–∞–π–ª–æ–≤
- üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏
- üìÑ –ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –ª—é–±–æ–≥–æ —Ñ–∞–π–ª–∞
- üîç –î–µ—Ç–∞–ª–∏ –∫–∞–∂–¥–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞

### üéØ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é
```
=== –ú–ï–ù–Æ ===
1. –ü–æ–∫–∞–∑–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Å–µ—Å—Å–∏–∏
2. –ü—Ä–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞
3. –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
4. –í—ã—Ö–æ–¥
```

## üíæ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è

### üõ°Ô∏è –ó–∞—â–∏—Ç–∞ –æ—Ç –ø–æ—Ç–µ—Ä—å
- **–ü—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è** –∫–∞–∂–¥—ã–µ 5 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –ø—Ä–∏ —Å–±–æ—è—Ö
- **–ü–æ–ª–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è** –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

### üìä –£–¥–æ–±—Å—Ç–≤–æ –∞–Ω–∞–ª–∏–∑–∞
- **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –≤ JSON
- **–ß–µ–ª–æ–≤–µ–∫–æ—á–∏—Ç–∞–µ–º—ã–µ –æ—Ç—á—ë—Ç—ã** –≤ TXT
- **–î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞** –ø–æ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏

### üîç –ü—Ä–æ—Å—Ç–æ—Ç–∞ –¥–æ—Å—Ç—É–ø–∞
- **–ò–Ω—Ç—É–∏—Ç–∏–≤–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞** –ø–∞–ø–æ–∫
- **–í—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏** –≤ –∏–º–µ–Ω–∞—Ö —Ñ–∞–π–ª–æ–≤
- **–°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è —É—Ç–∏–ª–∏—Ç–∞** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

## üöÄ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ê–Ω–∞–ª–∏–∑ 1797 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```bash
python analyze_all.py
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```
output/
‚îú‚îÄ‚îÄ session_20250710_143022/
‚îÇ   ‚îú‚îÄ‚îÄ session_summary.json          # –°–≤–æ–¥–∫–∞: 1797/1797 (100%)
‚îÇ   ‚îú‚îÄ‚îÄ analyses_batch_001.txt         # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 1-5
‚îÇ   ‚îú‚îÄ‚îÄ analyses_batch_002.txt         # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 6-10
‚îÇ   ‚îú‚îÄ‚îÄ ...
‚îÇ   ‚îî‚îÄ‚îÄ analyses_batch_360.txt         # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 1796-1797
‚îú‚îÄ‚îÄ medgemma_analysis_2025-07-10_16-45-33_1797images.txt
‚îú‚îÄ‚îÄ medgemma_analysis_2025-07-10_16-45-33_1797images.json
‚îî‚îÄ‚îÄ ct_analysis_2025-07-10_16-45-33.log
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
python view_results.py
```

**–í—ã–≤–æ–¥:**
```
=== –°–û–•–†–ê–ù–Å–ù–ù–´–ï –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ê–ù–ê–õ–ò–ó–ê ===

1. üìÅ –°–ï–°–°–ò–Ø: 20250710_143022
   üìä –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π: 1797/1797
   ‚úÖ –£—Å–ø–µ—à–Ω–æ—Å—Ç—å: 100.0%
   üè• –ê–Ω–∞–ª–∏–∑–∞—Ç–æ—Ä: MedGemma 4B
   üì¶ –†–∞–∑–º–µ—Ä –±–∞—Ç—á–∞: 5
   üìÖ –°—Ç–∞—Ç—É—Å: completed

üìä –ò–¢–û–ì–û: 1 —Å–µ—Å—Å–∏–π, 1 –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
```

## üéØ –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### –î–ª—è –∞–Ω–∞–ª–∏–∑–∞ 1000+ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∞—Ç—á–∏** —Ä–∞–∑–º–µ—Ä–æ–º 5-10 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
2. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –ø—Ä–æ–≥—Ä–µ—Å—Å** —á–µ—Ä–µ–∑ progress.json
3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã** –ø–æ—Å–ª–µ –∫–∞–∂–¥—ã—Ö 50 –±–∞—Ç—á–µ–π
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ view_results.py** –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–∏—Å–∫–æ–≤—ã–º –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ–º
- **–¢–µ–∫—Å—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã**: ~1-2 –ú–ë –Ω–∞ 100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **JSON —Ñ–∞–π–ª—ã**: ~500 –ö–ë –Ω–∞ 100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- **–õ–æ–≥–∏**: ~100 –ö–ë –Ω–∞ —Å–µ—Å—Å–∏—é
- **–û–±—â–∏–π –æ–±—ä—ë–º**: ~2-3 –ú–ë –Ω–∞ 100 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

### –ê—Ä—Ö–∏–≤–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
```bash
# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ —Å–µ—Å—Å–∏–∏
tar -czf session_20250710_143022.tar.gz output/session_20250710_143022/

# –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ä—Ö–∏–≤–∞ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
tar -czf all_results_$(date +%Y%m%d).tar.gz output/
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∏—Å—Ç–µ–º—ã —Ö—Ä–∞–Ω–µ–Ω–∏—è

### –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –±–∞—Ç—á–∞
```python
# –í analyze_all.py –∏–ª–∏ main.py
analyzer = CTAnalyzer(
    batch_size=10,  # –£–≤–µ–ª–∏—á–∏—Ç—å –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
    enable_parallel=True
)
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—É—Ç–µ–π —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
```python
# –í medgemma_analyzer.py –º–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å:
output_dir = "my_results"  # –í–º–µ—Å—Ç–æ "output"
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø–∞–ø–∫–µ `output/`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –Ω–∞–ª–∏—á–∏–∏ —Å–≤–æ–±–æ–¥–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `ct_analysis_*.log`
4. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `view_results.py` –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ 